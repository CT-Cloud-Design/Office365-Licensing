function saveClick(){Settings.Highlight1=document.getElementById("highlight1").value,Settings.Highlight2=document.getElementById("highlight2").value,Settings.Highlight3=document.getElementById("highlight3").value,Settings.Menu=document.getElementById("menuState").value,Settings.Theme=document.getElementById("theme").value,Settings.Zoom=document.getElementById("zoom").value,saveSettings(),window.location.href="/"}function themeSelectChange(e){setTheme(e.target.value)}function appOffline(){document.getElementById("offline").style.display="block"}function appOnline(){document.getElementById("offline").style.display="none"}function setOption(e,t){const n=e.getElementsByTagName("option");for(let e=0;e<n.length;e+=1){const i=n[e];i.text===t&&(i.selected=!0)}}function setControlValues(){document.getElementById("highlight1").value=Settings.Highlight1,document.getElementById("highlight2").value=Settings.Highlight2,document.getElementById("highlight3").value=Settings.Highlight3,setOption(document.getElementById("menuState"),Settings.Menu),setOption(document.getElementById("zoom"),Settings.Zoom),setOption(document.getElementById("theme"),Settings.Theme)}function defaultsClick(){defaultSettings(),setControlValues(),setTheme(document.getElementById("theme").value)}function cancelClick(){window.location.href="/"}function deleteAllCaches(){caches.keys().then(function(e){e.forEach(function(e){caches.delete(e)})})}function unregisterServiceWorkers(){navigator.serviceWorker.getRegistrations().then(function(e){for(let t=0;t<e.length;t+=1){const n=e[t];n.unregister()}})}function pageLoad(){switch(setControlValues(),window.location.hash){case"#nocache":deleteAllCaches();break;case"#unregister":unregisterServiceWorker();break;case"#deletestorage":localStorage.clear()}isIE&&fixToMaxItemWidth("settings-header",16,!1),document.getElementById("theme").addEventListener("change",themeSelectChange),document.getElementById("defaults").addEventListener("click",defaultsClick),document.getElementById("save").addEventListener("click",saveClick),document.getElementById("cancel").addEventListener("click",cancelClick),document.getElementById("offline").style.display=navigator.onLine?"none":"block",window.addEventListener("offline",appOffline),window.addEventListener("online",appOnline)}registerServiceWorker(),window.addEventListener("load",pageLoad),loadSettings(),setTheme(Settings.Theme),addThemeListener(themeChange);